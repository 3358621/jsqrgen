/**
 * JSQRGen - Generate characteristic qrcodes with a canvas.
 * @version v1.1.4
 * @license MIT
 * @author Gerald <gera2ld@163.com>
 *
 * QRCode Generator for JavaScript
 * Copyright (c) 2009 Kazuhiko Arase
 * URL: http://www.d-project.com/
 */
!function(){"use strict";function t(t,r){var e=this;r=r||{},e.margin=r.margin||0,e.isBackgroundColor=r.isBackgroundColor||e._isBackgroundColor,e.prepare(t)}function r(r){function e(t,e){return t>=0&&t<r.count&&e>=0&&e<r.count&&(r.logo.clearEdges?d[t*r.count+e]:!0)&&r.isDark(t,e)}function o(t,e,n){return"function"==typeof t?t(r.count,e,n):t}function a(t,r,e,n,o){var a=w.context;o?a.arcTo(t,r,e,n,o):(a.lineTo(t,r),a.lineTo(e,n))}function i(t){w.context.fillStyle=t,w.context.fillRect(w.cell.x,w.cell.y,w.cellSize,w.cellSize)}function u(t,r,e,n,o,i){var u=w.context;u.beginPath(),u.moveTo(t,r),a(e,n,o,i,w.effect),u.lineTo(e,n),u.lineTo(t,r),u.fill()}function f(){var t=r.logo,e=w.context;if(t.image||t.text){if(!t.clearEdges){var a=n(t.width+2*t.margin,t.height+2*t.margin),i=a.getContext("2d");i.fillStyle=o(r.colorLight,-1,-1),i.fillRect(0,0,a.width,a.height),t.edger.clearBackground(a),e.drawImage(a,t.x,t.y)}e.drawImage(t.canvas,t.x,t.y)}}function g(){i(e(w.cell.i,w.cell.j)?w.cell.colorDark:w.cell.colorLight)}function c(){var t=w.cell,r=t.x,n=t.y,o=w.context,u=w.cellSize,f=w.effect;i(t.colorLight),e(t.i,t.j)&&(o.fillStyle=t.colorDark,o.beginPath(),o.moveTo(r+.5*u,n),a(r+u,n,r+u,n+.5*u,f),a(r+u,n+u,r+.5*u,n+u,f),a(r,n+u,r,n+.5*u,f),a(r,n,r+.5*u,n,f),o.fill())}function l(){var t=[0,0,0,0],r=w.cell,n=r.i,o=r.j,f=r.x,g=r.y,c=w.context,l=w.effect,h=w.cellSize;e(n-1,o)&&(t[0]++,t[1]++),e(n+1,o)&&(t[2]++,t[3]++),e(n,o-1)&&(t[0]++,t[3]++),e(n,o+1)&&(t[1]++,t[2]++),i(r.colorLight),c.fillStyle=r.colorDark,e(n,o)?(e(n-1,o-1)&&t[0]++,e(n-1,o+1)&&t[1]++,e(n+1,o+1)&&t[2]++,e(n+1,o-1)&&t[3]++,c.beginPath(),c.moveTo(f+.5*h,g),a(f+h,g,f+h,g+.5*h,t[1]?0:l),a(f+h,g+h,f+.5*h,g+h,t[2]?0:l),a(f,g+h,f,g+.5*h,t[3]?0:l),a(f,g,f+.5*h,g,t[0]?0:l),c.fill()):(2==t[0]&&u(f,g+.5*h,f,g,f+.5*h,g),2==t[1]&&u(f+.5*h,g,f+h,g,f+h,g+.5*h),2==t[2]&&u(f+h,g+.5*h,f+h,g+h,f+.5*h,g+h),2==t[3]&&u(f+.5*h,g+h,f,g+h,f,g+.5*h))}function h(){var t,e,n=r.effect,a=null;if(w.effect=n.value*w.cellSize,w.effect)switch(n.key){case"liquid":a=l;break;case"round":a=c}for(a||(a=g),t=0;t<r.count;t++)for(e=0;e<r.count;e++)w.cell={i:t,j:e,x:~~(e*w.cellSize),y:~~(t*w.cellSize),colorDark:o(r.colorDark,t,e),colorLight:o(r.colorLight,t,e)},a()}function s(){var e,o,a,i,u,f=r.logo,g=r.count,c=w.context;if(f.image)e=f.image,o=e.naturalWidth||e.width,a=e.naturalHeight||e.height;else{if(!f.text)return;a=100,e="",f.fontStyle&&(e+=f.fontStyle+" "),e+=a+"px "+f.fontFace,c.font=e,o=c.measureText(f.text).width}e=o/a,u=~~(Math.sqrt(Math.min(o*a/w.size/w.size,f.size)/e)*g),i=~~(e*u),(g-i)%2&&i++,(g-u)%2&&u++,e=Math.min((u*w.cellSize-2*f.margin)/a,(i*w.cellSize-2*f.margin)/o,1),f.width=~~(e*o),f.height=~~(e*a),f.x=(w.size-f.width)/2-f.margin,f.y=(w.size-f.height)/2-f.margin,f.canvas=n(f.width+2*f.margin,f.height+2*f.margin);var l=f.canvas.getContext("2d");if(f.image)l.drawImage(f.image,f.margin,f.margin,f.width,f.height);else{var h="";f.fontStyle&&(h+=f.fontStyle+" "),h+=f.height+"px "+f.fontFace,l.font=h,l.textAlign="center",l.textBaseline="middle",l.fillStyle=f.color,l.fillText(f.text,f.width/2+f.margin,f.height/2+f.margin)}if(f.edger=new t(f.canvas,{margin:f.margin}),f.clearEdges){d=new Uint8Array(r.count*r.count);for(var s=0;s<r.count;s++)for(var v=0;v<r.count;v++)d[s*r.count+v]=f.edger.isBackground(v*w.cellSize-f.x,s*w.cellSize-f.y,w.cellSize,w.cellSize)}}function v(){w.cellSize=Math.ceil(r.cellSize),w.size=w.cellSize*r.count;var t=n(w.size,w.size);if(w.context=t.getContext("2d"),s(),h(),f(),w.context=null,w.size!=r.size){var e=n(r.size,r.size),o=e.getContext("2d");o.drawImage(t,0,0,r.size,r.size),t=e,e=null}return t}var d,w={};return v()}function e(t){var e=t.typeNumber||1,n=t.correctLevel||"M",i=t.colorDark||"black",u=t.colorLight||"white",f=t.data||"",g=t.effect||{},c={color:"black",fontFace:"Cursive",clearEdges:0,margin:-1,size:.15,irregular:!1};t.logo&&o(c,t.logo),(c.image||c.text)&&(n="H",c.margin<0&&(c.margin=c.image?0:2));var l=a(e,n);l.addData(f),l.make();var h=l.getModuleCount(),s=t.cellSize,v=t.size;s||v||(s=2),s?v=s*h:v&&(v=t.size,s=v/h);var d=r({cellSize:s,size:v,count:h,colorDark:i,colorLight:u,logo:c,isDark:l.isDark.bind(l),effect:g});return{dom:d,appendTo:function(t){t.appendChild(this.dom)}}}function n(t,r){var e=document.createElement("canvas");return e.width=t,e.height=r,e}function o(t,r){for(var e in r)t[e]=r[e]}t.prototype={_isBackgroundColor:function(t){return!t[3]},isBackground:function(){var t;if(1==arguments.length)t=arguments[0];else{if(2!=arguments.length){if(4==arguments.length){var r=arguments[0],e=arguments[1],n=r+arguments[2],o=e+arguments[3];0>r&&(r=0),0>e&&(e=0),n>this.width&&(n=this.width),o>this.height&&(o=this.height);for(var a=r;n>a;a++)for(var i=e;o>i;i++)if(!this.isBackground(a,i))return!1;return!0}throw Error("Invalid index")}t=arguments[0]+arguments[1]*this.width}return 1===this.data[t]},prepare:function(t){var r=this,e=t.getContext("2d");r.width=t.width,r.height=t.height,r.total=r.width*r.height;var n=e.getImageData(0,0,r.width,r.height);r._rect={top:-1,right:-1,bottom:-1,left:-1},r.data=new Uint8Array(r.total);for(var o=new Uint8Array(r.total),a=[],i=[].slice,u=function(t){var e=o[t];if(!e){var a=4*t,u=i.call(n.data,a,a+4);e=o[t]=r.isBackgroundColor(u)?1:2}return 1===e},f=function(t){if(!r.data[t]){for(var e=t%r.width,n=~~(t/r.width),o=r.margin+1,i=Math.max(0,e-o+1);e+o>i&&i<r.width;i++)for(var f=Math.max(0,n-o+1);n+o>f&&f<r.height;f++){var g=i-e,c=f-n;if(o*o>g*g+c*c&&!u(i+f*r.width))return void(r.data[t]=2)}r.data[t]=1,a.push(t);var l=r._rect;(l.top<0||l.top>n)&&(l.top=n),(l.right<0||l.right<e)&&(l.right=e),(l.bottom<0||l.bottom<n)&&(l.bottom=n),(l.left<0||l.left>e)&&(l.left=e)}},g=function(t,e){t%r.width&&f(t-1),e||f(t),(t+1)%r.width&&f(t+1)},c=0;c<r.width;c++)f(c),f(r.total-1-c);for(var c=0;c<r.height;c++)f(c*r.width),f((c+1)*r.width-1);for(var l=0;l<a.length;){var h=a[l];h>r.width&&g(h-r.width),g(h,!0),h+r.width<r.total&&g(h+r.width),l++}r.totalBackground=l},getColorArr:function(t){return Array.isArray(t)?[t[0]||0,t[1]||0,t[2]||0,t[3]||0]:[t>>>24,t>>>16&255,t>>>8&255,255&t]},getShadow:function(t){var r=this,e=n(r.width,r.height),o=e.getContext("2d"),a=o.getImageData(0,0,r.width,r.height);t=r.getColorArr(t);for(var i=0;i<r.total;i++)if(!r.isBackground(i)){var u=4*i;a.data[u]=t[0],a.data[u+1]=t[1],a.data[u+2]=t[2],a.data[u+3]=t[3]}return o.putImageData(a,0,0),e},clearBackground:function(t){var r=this;if(t.width==r.width&&t.height==r.height){for(var e=t.getContext("2d"),n=e.getImageData(0,0,r.width,r.height),o=0;o<r.total;o++)if(r.isBackground(o)){var a=4*o;n.data[a]=0,n.data[a+1]=0,n.data[a+2]=0,n.data[a+3]=0}return e.putImageData(n,0,0),t}},getRect:function(){var t=this._rect;return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left+1,height:t.bottom-t.top+1}}},window.QRCanvas=e;var a=function(){function t(r,e){if("undefined"==typeof r.length)throw new Error(r.length+"/"+e);var n=function(){for(var t=0;t<r.length&&0==r[t];)t+=1;for(var n=new Array(r.length-t+e),o=0;o<r.length-t;o+=1)n[o]=r[o+t];return n}(),o={};return o.getAt=function(t){return n[t]},o.getLength=function(){return n.length},o.multiply=function(r){for(var e=new Array(o.getLength()+r.getLength()-1),n=0;n<o.getLength();n+=1)for(var a=0;a<r.getLength();a+=1)e[n+a]^=i.gexp(i.glog(o.getAt(n))+i.glog(r.getAt(a)));return t(e,0)},o.mod=function(r){if(o.getLength()-r.getLength()<0)return o;for(var e=i.glog(o.getAt(0))-i.glog(r.getAt(0)),n=new Array(o.getLength()),a=0;a<o.getLength();a+=1)n[a]=o.getAt(a);for(var a=0;a<r.getLength();a+=1)n[a]^=i.gexp(i.glog(r.getAt(a))+e);return t(n,0).mod(r)},o}var r=function(r,e){var o=236,i=17,c=r,l=n[e],h=null,s=0,v=null,d=new Array,w={},m=function(t,r){null==v&&(v=M(c,l,d)),s=4*c+17,h=function(t){for(var r=new Array(t),e=0;t>e;e+=1){r[e]=new Array(t);for(var n=0;t>n;n+=1)r[e][n]=null}return r}(s),A(0,0),A(s-7,0),A(0,s-7),E(),k(),y(t,r),c>=7&&T(t),D(v,r)},A=function(t,r){for(var e=-1;7>=e;e+=1)if(!(-1>=t+e||t+e>=s))for(var n=-1;7>=n;n+=1)-1>=r+n||r+n>=s||(h[t+e][r+n]=e>=0&&6>=e&&(0==n||6==n)||n>=0&&6>=n&&(0==e||6==e)||e>=2&&4>=e&&n>=2&&4>=n?!0:!1)},p=function(){for(var t=0,r=0,e=0;8>e;e+=1){m(!0,e);var n=a.getLostPoint(w);(0==e||t>n)&&(t=n,r=e)}return r},k=function(){for(var t=8;s-8>t;t+=1)null==h[t][6]&&(h[t][6]=t%2==0);for(var r=8;s-8>r;r+=1)null==h[6][r]&&(h[6][r]=r%2==0)},E=function(){for(var t=a.getPatternPosition(c),r=0;r<t.length;r+=1)for(var e=0;e<t.length;e+=1){var n=t[r],o=t[e];if(null==h[n][o])for(var i=-2;2>=i;i+=1)for(var u=-2;2>=u;u+=1)h[n+i][o+u]=-2==i||2==i||-2==u||2==u||0==i&&0==u?!0:!1}},T=function(t){for(var r=a.getBCHTypeNumber(c),e=0;18>e;e+=1){var n=!t&&1==(r>>e&1);h[Math.floor(e/3)][e%3+s-8-3]=n}for(var e=0;18>e;e+=1){var n=!t&&1==(r>>e&1);h[e%3+s-8-3][Math.floor(e/3)]=n}},y=function(t,r){for(var e=l<<3|r,n=a.getBCHTypeInfo(e),o=0;15>o;o+=1){var i=!t&&1==(n>>o&1);6>o?h[o][8]=i:8>o?h[o+1][8]=i:h[s-15+o][8]=i}for(var o=0;15>o;o+=1){var i=!t&&1==(n>>o&1);8>o?h[8][s-o-1]=i:9>o?h[8][15-o-1+1]=i:h[8][15-o-1]=i}h[s-8][8]=!t},D=function(t,r){for(var e=-1,n=s-1,o=7,i=0,u=a.getMaskFunction(r),f=s-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var g=0;2>g;g+=1)if(null==h[n][f-g]){var c=!1;i<t.length&&(c=1==(t[i]>>>o&1));var l=u(n,f-g);l&&(c=!c),h[n][f-g]=c,o-=1,-1==o&&(i+=1,o=7)}if(n+=e,0>n||n>=s){n-=e,e=-e;break}}},B=function(r,e){for(var n=0,o=0,i=0,u=new Array(e.length),f=new Array(e.length),g=0;g<e.length;g+=1){var c=e[g].dataCount,l=e[g].totalCount-c;o=Math.max(o,c),i=Math.max(i,l),u[g]=new Array(c);for(var h=0;h<u[g].length;h+=1)u[g][h]=255&r.getBuffer()[h+n];n+=c;var s=a.getErrorCorrectPolynomial(l),v=t(u[g],s.getLength()-1),d=v.mod(s);f[g]=new Array(s.getLength()-1);for(var h=0;h<f[g].length;h+=1){var w=h+d.getLength()-f[g].length;f[g][h]=w>=0?d.getAt(w):0}}for(var m=0,h=0;h<e.length;h+=1)m+=e[h].totalCount;for(var A=new Array(m),p=0,h=0;o>h;h+=1)for(var g=0;g<e.length;g+=1)h<u[g].length&&(A[p]=u[g][h],p+=1);for(var h=0;i>h;h+=1)for(var g=0;g<e.length;g+=1)h<f[g].length&&(A[p]=f[g][h],p+=1);return A},M=function(t,r,e){for(;;){for(var n=u.getRSBlocks(t,r),g=f(),l=0;l<e.length;l+=1){var h=e[l];g.put(h.getMode(),4),g.put(h.getLength(),a.getLengthInBits(h.getMode(),t)),h.write(g)}for(var s=0,l=0;l<n.length;l+=1)s+=n[l].dataCount;if(!(g.getLengthInBits()>8*s))break;if(!(10>t))throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*s+")");t++}for(c=t,g.getLengthInBits()+4<=8*s&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*s)break;if(g.put(o,8),g.getLengthInBits()>=8*s)break;g.put(i,8)}return B(g,n)};return w.addData=function(t){var r=g(t);d.push(r),v=null},w.isDark=function(t,r){if(0>t||t>=s||0>r||r>=s)throw new Error(t+","+r);return h[t][r]},w.getModuleCount=function(){return s},w.make=function(){m(!1,p())},w};r.stringToBytes=function(t){var r,e,n=new Array;for(t=t.replace(/\r\n/g,"\n"),r=0;r<t.length;r++)e=t.charCodeAt(r),128>e?n.push(e):2048>e?(n.push(e>>6|192),n.push(63&e|128)):(n.push(e>>12|224),n.push(e>>6&63|128),n.push(63&e|128));return n},r.createStringToBytes=function(t,r){var e=function(){for(var e=base64DecodeInputStream(t),n=function(){var t=e.read();if(-1==t)throw new Error;return t},o=0,a={};;){var i=e.read();if(-1==i)break;var u=n(),f=n(),g=n(),c=String.fromCharCode(i<<8|u),l=f<<8|g;a[c]=l,o+=1}if(o!=r)throw new Error(o+" != "+r);return a}(),n="?".charCodeAt(0);return function(t){for(var r=new Array,o=0;o<t.length;o+=1){var a=t.charCodeAt(o);if(128>a)r.push(a);else{var i=e[t.charAt(o)];"number"==typeof i?(255&i)==i?r.push(i):(r.push(i>>>8),r.push(255&i)):r.push(n)}}return r}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var r=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,u=21522,f={},g=function(t){for(var r=0;0!=t;)r+=1,t>>>=1;return r};return f.getBCHTypeInfo=function(t){for(var r=t<<10;g(r)-g(n)>=0;)r^=n<<g(r)-g(n);return(t<<10|r)^u},f.getBCHTypeNumber=function(t){for(var r=t<<12;g(r)-g(a)>=0;)r^=a<<g(r)-g(a);return t<<12|r},f.getPatternPosition=function(t){return r[t-1]},f.getMaskFunction=function(t){switch(t){case o.PATTERN000:return function(t,r){return(t+r)%2==0};case o.PATTERN001:return function(t,r){return t%2==0};case o.PATTERN010:return function(t,r){return r%3==0};case o.PATTERN011:return function(t,r){return(t+r)%3==0};case o.PATTERN100:return function(t,r){return(Math.floor(t/2)+Math.floor(r/3))%2==0};case o.PATTERN101:return function(t,r){return t*r%2+t*r%3==0};case o.PATTERN110:return function(t,r){return(t*r%2+t*r%3)%2==0};case o.PATTERN111:return function(t,r){return(t*r%3+(t+r)%2)%2==0};default:throw new Error("bad maskPattern:"+t)}},f.getErrorCorrectPolynomial=function(r){for(var e=t([1],0),n=0;r>n;n+=1)e=e.multiply(t([1,i.gexp(n)],0));return e},f.getLengthInBits=function(t,r){if(r>=1&&10>r)switch(t){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>r)switch(t){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>r))throw new Error("type:"+r);switch(t){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},f.getLostPoint=function(t){for(var r=t.getModuleCount(),e=0,n=0;r>n;n+=1)for(var o=0;r>o;o+=1){for(var a=0,i=t.isDark(n,o),u=-1;1>=u;u+=1)if(!(0>n+u||n+u>=r))for(var f=-1;1>=f;f+=1)0>o+f||o+f>=r||(0!=u||0!=f)&&i==t.isDark(n+u,o+f)&&(a+=1);a>5&&(e+=3+a-5)}for(var n=0;r-1>n;n+=1)for(var o=0;r-1>o;o+=1){var g=0;t.isDark(n,o)&&(g+=1),t.isDark(n+1,o)&&(g+=1),t.isDark(n,o+1)&&(g+=1),t.isDark(n+1,o+1)&&(g+=1),(0==g||4==g)&&(e+=3)}for(var n=0;r>n;n+=1)for(var o=0;r-6>o;o+=1)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(e+=40);for(var o=0;r>o;o+=1)for(var n=0;r-6>n;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(e+=40);for(var c=0,o=0;r>o;o+=1)for(var n=0;r>n;n+=1)t.isDark(n,o)&&(c+=1);var l=Math.abs(100*c/r/r-50)/5;return e+=10*l},f}(),i=function(){for(var t=new Array(256),r=new Array(256),e=0;8>e;e+=1)t[e]=1<<e;for(var e=8;256>e;e+=1)t[e]=t[e-4]^t[e-5]^t[e-6]^t[e-8];for(var e=0;255>e;e+=1)r[t[e]]=e;var n={};return n.glog=function(t){if(1>t)throw new Error("glog("+t+")");return r[t]},n.gexp=function(r){for(;0>r;)r+=255;for(;r>=256;)r-=255;return t[r]},n}(),u=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16]],r=function(t,r){var e={};return e.totalCount=t,e.dataCount=r,e},e={},o=function(r,e){switch(e){case n.L:return t[4*(r-1)+0];case n.M:return t[4*(r-1)+1];case n.Q:return t[4*(r-1)+2];case n.H:return t[4*(r-1)+3];default:return void 0}};return e.getRSBlocks=function(t,e){var n=o(t,e);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=n.length/3,i=new Array,u=0;a>u;u+=1)for(var f=n[3*u+0],g=n[3*u+1],c=n[3*u+2],l=0;f>l;l+=1)i.push(r(g,c));return i},e}(),f=function(){var t=new Array,r=0,e={};return e.getBuffer=function(){return t},e.getAt=function(r){var e=Math.floor(r/8);return 1==(t[e]>>>7-r%8&1)},e.put=function(t,r){for(var n=0;r>n;n+=1)e.putBit(1==(t>>>r-n-1&1))},e.getLengthInBits=function(){return r},e.putBit=function(e){var n=Math.floor(r/8);t.length<=n&&t.push(0),e&&(t[n]|=128>>>r%8),r+=1},e},g=function(t){var n=e.MODE_8BIT_BYTE,o=r.stringToBytes(t),a={};return a.getMode=function(){return n},a.getLength=function(t){return o.length},a.write=function(t){for(var r=0;r<o.length;r+=1)t.put(o[r],8)},a};return r}()}();